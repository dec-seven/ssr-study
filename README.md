---
highlight: atom-one-dark
theme: juejin
---
æœ€è¿‘æˆ‘ä»¬ç³»ç»Ÿçš„é¦–å±åŠ è½½è¾ƒæ…¢ï¼Œå¤§æ¦‚è¦3-4sç™½å±ï¼Œäº§å“ä¸€ç›´dissæˆ‘ä»¬ï¼Œè®©æˆ‘ä»¬ä¼˜åŒ–ã€‚ä¹‹å‰å°±æœ‰å¬è¯´SSRå¯ä»¥ä¼˜åŒ–é¦–å±åŠ è½½ï¼Œæ‰€ä»¥å°±è¶æ­¤è®¤çœŸçœ‹äº†çœ‹SSRåˆ°åº•æ˜¯ä»€ä¹ˆï¼Œçœ‹å®Œä¹‹åæœæ–­æ‹’ç»äº§å“è¿™ä¸ªâ€œæ— ç†è¦æ±‚â€ğŸ˜‚ğŸ˜‚ğŸ˜‚ã€‚å…¶å®è¦ä¸è¦ç”¨SSRè¿˜æ˜¯è¦ç»¼åˆè€ƒè™‘ï¼Œå¯¹æˆ‘ä»¬å½“å‰è¿™ä¸ªé¡¹ç›®è€Œè¨€ä½¿ç”¨SSRï¼Œæœ‰ç‚¹å¾—ä¸å¿å¤±ã€‚

## SPAå•é¡µé¢åº”ç”¨

### 1. ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ï¼Ÿ

å•é¡µé¢åº”ç”¨ï¼Œ`SPA` å…¨ç§° `Single Page Application`ï¼Œä¸€èˆ¬ä¹Ÿç§°ä¸º **`CSR`**`ï¼ˆClient Side Renderï¼‰`ï¼Œå³å®¢æˆ·ç«¯æ¸²æŸ“ã€‚å®ƒæ‰€éœ€çš„èµ„æºï¼Œå¦‚ `HTML`ã€`CSS` å’Œ `JS` ç­‰ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚åˆå§‹åŒ–æ—¶åŠ è½½ï¼ŒåŠ è½½å®Œæˆåä¾¿ä¸ä¼šå†é‡æ–°æ¸²æŸ“æ•´ä¸ªé¡µé¢ã€‚å¯¹äº `SPA` æ¥è¯´ï¼Œé¡µé¢çš„åˆ‡æ¢å°±æ˜¯ç»„ä»¶æˆ–è§†å›¾ä¹‹é—´çš„åˆ‡æ¢ã€‚

### 2. ä»€ä¹ˆæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Ÿ

å¤šé¡µé¢åº”ç”¨ ï¼Œ`MPA`å…¨ç§°`MultiPage Application` ï¼ŒæŒ‡æœ‰å¤šä¸ªç‹¬ç«‹é¡µé¢çš„åº”ç”¨ï¼ˆå¤šä¸ª`html`é¡µé¢ï¼‰ï¼Œæ¯ä¸ªé¡µé¢å¿…é¡»é‡å¤åŠ è½½`js`ã€`css`ç­‰ç›¸å…³èµ„æºã€‚å¯¹äº `MPA` æ¥è¯´ï¼Œé¡µé¢çš„åˆ‡æ¢éœ€è¦æ•´é¡µèµ„æºåˆ·æ–°ã€‚

### 3. SPA çš„ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹

*   ç”¨æˆ·ä½“éªŒå¥½
*   å¼€å‘æ•ˆç‡é«˜
*   æ¸²æŸ“æ€§èƒ½å¥½
*   å¯ç»´æŠ¤æ€§é«˜

ç¼ºç‚¹

*   é¦–å±æ¸²æŸ“æ—¶é—´é•¿
*   ä¸åˆ©äºseo

### 4. è§£å†³æ–¹æ¡ˆ - åŒæ„æ¸²æŸ“ï¼ˆç°ä»£åŒ–çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼‰

é’ˆå¯¹`SPA`åº”ç”¨çš„é¦–å±æ¸²æŸ“æ—¶é—´é•¿å’Œä¸åˆ©äº`SEO`æ£€ç´¢çš„é—®é¢˜ï¼Œå¯åˆ©ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆ`SSR`ï¼‰è¿›è¡Œä¼˜åŒ–

## ä¼ ç»Ÿçš„æœåŠ¡ç«¯æ¸²æŸ“

> æ—©æœŸçš„`web`é¡µé¢æ¸²æŸ“éƒ½æ˜¯åœ¨æœåŠ¡ç«¯è¿›è¡Œçš„

### ä¸€. ä¼ ç»Ÿçš„æœåŠ¡ç«¯æ¸²æŸ“æµç¨‹

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/820ec03d6c6b42509fb545c8602ea376~tplv-k3u1fbpfcp-watermark.image?)

### äºŒ. é€šè¿‡Node.jsæ¼”ç¤ºä¼ ç»Ÿçš„æœåŠ¡ç«¯æ¸²æŸ“æ¨¡å¼

#### 1. æ–°å»ºé¡¹ç›®

```shell
# æ–°å»ºä¸€ä¸ªssr-studyçš„æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾æ­¤æ¬¡å­¦ä¹ çš„ä»£ç 
$ mkdir ssr-study
$ cd ssr-study
```

æ–°å»ºæ–‡ä»¶å¤¹`node-server-rendering`

```shell
# åˆ›å»º node-server-rendering æ–‡ä»¶å¤¹
$ mkdir node-server-rendering
$ cd node-server-rendering
```

åœ¨`node-server-rendering`ç›®å½•ä¸‹ï¼Œæ–°å»º`data.json`æ–‡ä»¶å’Œ`index.html`æ–‡ä»¶

*   `data.json`æ–‡ä»¶ç”¨äºæ¨¡æ‹Ÿæ•°æ®åº“æ•°æ®

```json
{
  "title":"å‰ç«¯ä¸‰å‰‘å®¢",
  "posts":[
    {
      "id":1,
      "title":"HTML",
      "content":"HTMLçš„å…¨ç§°ä¸ºè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ã€‚\nå®ƒåŒ…æ‹¬ä¸€ç³»åˆ—æ ‡ç­¾ï¼Œé€šè¿‡è¿™äº›æ ‡ç­¾å¯ä»¥å°†ç½‘ç»œä¸Šçš„æ–‡æ¡£æ ¼å¼ç»Ÿä¸€ï¼Œä½¿åˆ†æ•£çš„Internetèµ„æºè¿æ¥ä¸ºä¸€ä¸ªé€»è¾‘æ•´ä½“ã€‚\nHTMLæ–‡æœ¬æ˜¯ç”±HTMLå‘½ä»¤ç»„æˆçš„æè¿°æ€§æ–‡æœ¬ï¼ŒHTMLå‘½ä»¤å¯ä»¥è¯´æ˜æ–‡å­—ï¼Œå›¾å½¢ã€åŠ¨ç”»ã€å£°éŸ³ã€è¡¨æ ¼ã€é“¾æ¥ç­‰ã€‚"
    },
    {
      "id":2,
      "title":"CSS",
      "content":"å±‚å æ ·å¼è¡¨(è‹±æ–‡å…¨ç§°ï¼šCascading Style Sheets)æ˜¯ä¸€ç§ç”¨æ¥è¡¨ç°HTMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªåº”ç”¨ï¼‰æˆ–XMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„ä¸€ä¸ªå­é›†ï¼‰ç­‰æ–‡ä»¶æ ·å¼çš„è®¡ç®—æœºè¯­è¨€ã€‚\nCSSä¸ä»…å¯ä»¥é™æ€åœ°ä¿®é¥°ç½‘é¡µï¼Œè¿˜å¯ä»¥é…åˆå„ç§è„šæœ¬è¯­è¨€åŠ¨æ€åœ°å¯¹ç½‘é¡µå„å…ƒç´ è¿›è¡Œæ ¼å¼åŒ–ã€‚"
    },
    {
      "id":3,
      "title":"JavaScript",
      "content":"JavaScriptï¼ˆç®€ç§°â€œJSâ€ï¼‰æ˜¯ä¸€ç§å…·æœ‰å‡½æ•°ä¼˜å…ˆçš„è½»é‡çº§ï¼Œè§£é‡Šå‹æˆ–å³æ—¶ç¼–è¯‘å‹çš„ç¼–ç¨‹è¯­è¨€ã€‚\nè™½ç„¶å®ƒæ˜¯ä½œä¸ºå¼€å‘Webé¡µé¢çš„è„šæœ¬è¯­è¨€è€Œå‡ºåï¼Œä½†æ˜¯å®ƒä¹Ÿè¢«ç”¨åˆ°äº†å¾ˆå¤šéæµè§ˆå™¨ç¯å¢ƒä¸­ï¼ŒJavaScriptåŸºäºåŸå‹ç¼–ç¨‹ã€å¤šèŒƒå¼çš„åŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œå¹¶ä¸”æ”¯æŒé¢å‘å¯¹è±¡ã€å‘½ä»¤å¼ã€å£°æ˜å¼ã€å‡½æ•°å¼ç¼–ç¨‹èŒƒå¼ã€‚"
    }
  ]
}
```

*   `index.html`æ–‡ä»¶,å³æ¸²æŸ“çš„æ¨¡ç‰ˆæ–‡ä»¶

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä½“éªŒä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“</title>
</head>
<body>
  <h1>ä½“éªŒä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“</h1>
</body>
</html>
```

#### 2. ä½¿ç”¨`express`åˆ›å»ºæœåŠ¡ç«¯

å®‰è£…`express` ï¼Œä½¿ç”¨`express`æ¥åˆ›å»º`web`æœåŠ¡ã€‚

```shell
# å®‰è£…express
$ npm i express
```

åœ¨`node-server-rendering`ç›®å½•ä¸‹åˆ›å»ºåç«¯æœåŠ¡æ–‡ä»¶`index.js`

```js
 const express = require('express')

//  åˆ›å»ºä¸€ä¸ªexpresså®ä¾‹
 const app = express()

//  æ·»åŠ è·¯ç”±
 app.get('/',(req,res) => {
  res.send('hello world')
 })

 app.listen(3000,() => console.log('server running...'))
```

#### 3. å¯åŠ¨æœåŠ¡

åœ¨æ§åˆ¶å°ä½¿ç”¨`node index.js` å‘½ä»¤å¯åŠ¨æœåŠ¡

ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨`nodemon`å¯åŠ¨æœåŠ¡ï¼Œ`nodemon`å¯ä»¥åœ¨æˆ‘ä»¬æ¯æ¬¡å†™å®Œä»£ç ä¿å­˜ä¹‹åè‡ªåŠ¨é‡å¯æœåŠ¡ç«¯ã€‚

```shell
# å…¨å±€å®‰è£…nodemon 
$ npm i nodemon -g
# ä½¿ç”¨nodemonå¯åŠ¨æœåŠ¡
$ nodemon index.js
```

æœåŠ¡å¯åŠ¨æˆåŠŸåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®`localhost:3000`ï¼Œå¯ä»¥æ”¶åˆ°æœåŠ¡ç«¯çš„`hello world`ã€‚

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98e0686a4c154b289f5530139cd38e63~tplv-k3u1fbpfcp-watermark.image?)

#### 4. æŠŠæ¨¡ç‰ˆå’Œæ•°æ®ç»“åˆ

ç°åœ¨æˆ‘ä»¬æŠŠç¬¬1æ­¥ç¼–å†™çš„`html`æ¨¡ç‰ˆä¸`data.json`è·å–çš„æ•°æ®è¿›è¡Œç»“åˆï¼Œæˆ‘ä»¬ä½¿ç”¨`nodejs`çš„`fs`æ¨¡å—è¯»å–æ–‡ä»¶ï¼Œå¯ä»¥è·å–åˆ°æ¨¡æ¿`html`å’Œæ•°æ®`JSON`æ–‡ä»¶ï¼Œç„¶åå€ŸåŠ©ç¬¬ä¸‰æ–¹æ’ä»¶[`art-template`](https://aui.github.io/art-template/zh-cn/index.html)è¿›è¡Œæ¸²æŸ“ã€‚

```shell
# å®‰è£…ç¬¬ä¸‰æ–¹æ¸²æŸ“å¼•æ“:art-template
$ npm i art-template
```

```js
// index.js
const express = require('express')   
const fs = require('fs')                 // ++
const template = require('art-template') // ++

//  åˆ›å»ºä¸€ä¸ªexpresså®ä¾‹
const app = express()

//  æ·»åŠ è·¯ç”±
app.get('/', (req, res) => {

  // 1. è·å–é¡µé¢æ¨¡ç‰ˆ - ä½¿ç”¨nodejsçš„fsæ¨¡å—è¯»å–æ–‡ä»¶,
  // ä¸ºäº†ç®€å•èµ·è§ï¼Œæ­¤å¤„ä½¿ç”¨readFileSyncåŒæ­¥æ–¹æ³•è¯»å–æ–‡ä»¶
  const templateStr = fs.readFileSync('./index.html','utf-8')
  // fs.readFileSyncé»˜è®¤æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶æµï¼Œæ‰€ä»¥è¦ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°utf-8,è½¬æ¢æˆå­—ç¬¦ä¸²

  // 2. è·å–æ•°æ®
  const data = JSON.parse(fs.readFileSync('./data.json','utf-8'))
  
  // 3. æ¸²æŸ“ï¼šæ•°æ® + æ¨¡ç‰ˆ = æ¸²æŸ“ç»“æœ
  // renderæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¦æ¸²æŸ“çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°æ®å¯¹è±¡ï¼›è¿”å›ä¸€ä¸ªhtml
  const html = template.render(templateStr, data)

  // 4. æŠŠæ¸²æŸ“ç»“æœå‘é€ç»™å®¢æˆ·ç«¯
  res.send(html)
})

app.listen(3000, () => console.log('server running...'))
```

ä½¿ç”¨`art-template`æ¨¡ç‰ˆè¯­æ³•æ”¹å†™æ¨¡ç‰ˆæ–‡ä»¶`index.html`ï¼Œ
å…·ä½“çš„`art-template`ç”¨æ³•å¯å‚è€ƒâ˜<https://aui.github.io/art-template/zh-cn/index.html>

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä½“éªŒä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“</title>
</head>
<body>
  <h1>ä½“éªŒä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“</h1>
  <!-- å°†æ•°æ®é‡Œçš„titleæ¸²æŸ“åˆ°è¿™é‡Œ -->
  <h2>{{ title }}</h2>
  <ul>
    <!-- each å¾ªç¯  -->
    {{ each posts }}
      <!-- $value è·å–å¾ªç¯çš„æ¯ä¸€é¡¹ -->
    <li>{{ $value.title }}</li>
    <!-- /each å¾ªç¯ç»“æŸ -->
    {{ /each }}
  </ul>
</body>
</html>
```
åˆ·æ–°æµè§ˆå™¨ï¼Œå¯ä»¥çœ‹åˆ°æ¸²æŸ“çš„ç»“æœ

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3998848f581e4dd187479bec451d3a40~tplv-k3u1fbpfcp-watermark.image?)

#### 5. ä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“å­˜åœ¨çš„é—®é¢˜
é€šè¿‡è¿™ä¸ªæ¨¡æ‹Ÿè¿‡ç¨‹ï¼Œå¯ä»¥å‘ç°ä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼š
- å‰åç«¯ä»£ç å®Œå…¨è€¦åˆåœ¨ä¸€èµ·ï¼Œä¸åˆ©äºå¼€å‘å’Œç»´æŠ¤
- å‰ç«¯æ²¡æœ‰è¶³å¤Ÿå‘æŒ¥ç©ºé—´
- æœåŠ¡ç«¯å‹åŠ›å¤§
- ç”¨æˆ·ä½“éªŒä¸€èˆ¬

## å®¢æˆ·ç«¯æ¸²æŸ“

> å®¢æˆ·ç«¯æ¸²æŸ“å¾—ç›Šäº`AJax`æŠ€æœ¯çš„å‘å±•ï¼Œ`Ajax`ä½¿å¾—å®¢æˆ·ç«¯åŠ¨æ€è·å–æ•°æ®æˆä¸ºå¯èƒ½

å®¢æˆ·ç«¯æ¸²æŸ“å®ç°äº†å‰åç«¯åˆ†ç¦»

*   åç«¯ï¼šè´Ÿè´£å¤„ç†æ•°æ®æ¥å£
*   å‰ç«¯ï¼šè´Ÿè´£å°†æ¥å£æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­

### ä¸€ã€å®¢æˆ·ç«¯æ¸²æŸ“æµç¨‹


![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f43ca4b522114ad6aa54a9700e9a8d42~tplv-k3u1fbpfcp-watermark.image?)


### äºŒã€ä½¿ç”¨Vueé¡¹ç›®è¿›è¡Œå®¢æˆ·ç«¯æ¸²æŸ“

#### 1. æ–°å»ºä¸€ä¸ªVueé¡¹ç›®
> æ­¤å¤„æ˜¯ç”¨Vue-Cliåˆ›å»ºçš„Vue2é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ç”¨Vue3æ¥ä½“éªŒ
```shell
# åœ¨ssr-studyç›®å½•ä¸‹
# æ–°å»ºvue2é¡¹ç›® 
$ vue create vue-client-rendering
# å®‰è£…router ï¼ˆå¯ä»¥åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå‹¾é€‰å®‰è£…ï¼Œè‹¥æœªå‹¾é€‰å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼‰
$ vue add router
```
#### 2. ä¿®æ”¹Vueé¡¹ç›®
- ä¿®æ”¹App.vueæ–‡ä»¶
```html
<template>
    <div id="app">
        <nav>
          <router-link to="/">Home</router-link> |
          <router-link to="/about">About</router-link>
        </nav>
        <router-view/>
     </div>
</template>
```

    - å¤åˆ¶ä¹‹å‰çš„`data.json`æ–‡ä»¶æ”¾åœ¨`public`ç›®å½•ä¸‹
    - å®‰è£…`axios`å¹¶ä¿®æ”¹`views/HomeView.vue`
```shell
# å®‰è£…axios
$ npm i axios
```
```html
    <template>
      <div class="home">
        <h2>{{ title }}</h2>
        <ul>
          <li v-for="post in posts" :key="post.id">{{ post.title }}</li>
        </ul>
      </div>
    </template>

    <script>
    import axios from 'axios'

    export default {
      name:'App',
      data(){
        return {
          title:'',
          posts:[]
        }
      },
      async created(){
        const {data} = await axios({
          method:'GET',
          url:'../data.json'
        })
        this.title = data.title
        this.posts = data.posts
      }
    }
    </script>
```

#### 3. å¯åŠ¨é¡¹ç›®
ä½¿ç”¨å‘½ä»¤`npm run serve`å¯åŠ¨é¡¹ç›®,
æ‰“å¼€æµè§ˆå™¨ï¼š`localhost:8080`

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b04a0b009255409898eeefe86cc54439~tplv-k3u1fbpfcp-watermark.image?)
   
#### 4. ä¸ºä»€ä¹ˆé¦–å±æ¸²æŸ“æ…¢ï¼Ÿ
åœ¨å¿«é€Ÿç½‘ç»œçš„æƒ…å†µä¸‹ï¼Œé’ˆå¯¹æœåŠ¡ç«¯æ¸²æŸ“(`â‰ˆ8ms`)å’Œå®¢æˆ·ç«¯æ¸²æŸ“(`â‰ˆ12ms`)çš„é¦–å±åŠ è½½æ—¶é—´å·®è·å¹¶ä¸æ˜¯å¾ˆå¤§ã€‚

æ‰€ä»¥æˆ‘ä»¬åˆ©ç”¨æµè§ˆå™¨è°ƒè¯•å·¥å…·æ¥æ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œä¸‹ï¼Œçœ‹äºŒè€…é¦–å±åŠ è½½çš„æ—¶é—´ã€‚
![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/885c0c6d57a54f09a1868bfc46bc11b8~tplv-k3u1fbpfcp-watermark.image?)
- å®¢æˆ·ç«¯æ¸²æŸ“`SPA`é¦–å±åŠ è½½è€—æ—¶å¤§çº¦`17s`ï¼Œæœ‰ä¸‰æ¬¡`http`è¯·æ±‚å‘¨æœŸ
- é¦–å…ˆåŠ è½½ç©ºçš„`html`æ–‡ä»¶ä½¿ç”¨äº†`2.02s`
- åŠ è½½`js`æ–‡ä»¶ä½¿ç”¨äº†`13.30s`ï¼ˆè¿™æ­¥åŠ è½½ç»“æŸæ—¶ï¼Œé¡µé¢å·²ç»æ¸²æŸ“å‡ºäº†`Home|About`ï¼‰
- `ajax`è¯·æ±‚æ•°æ®ä½¿ç”¨äº†`2.05s`ï¼ˆè¯·æ±‚åˆ°æ•°æ®åæ‰æ¸²æŸ“å‡ºå‰ç«¯ä¸‰å‰‘å®¢çš„å†…å®¹ï¼‰

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/219bb45fa95844d684b632a50164bba3~tplv-k3u1fbpfcp-watermark.image?)
- æœåŠ¡ç«¯æ¸²æŸ“é¦–å±åŠ è½½è€—æ—¶å¤§çº¦`2s`
- æœåŠ¡ç«¯æ¸²æŸ“åªéœ€è¦æœ‰ä¸€æ¬¡`http`è¯·æ±‚å‘¨æœŸï¼Œå³è¯·æ±‚æ¸²æŸ“å¥½çš„`html`æ–‡ä»¶

#### 5. `SPA`ä¸ºä»€ä¹ˆä¸åˆ©äº`SEO`?
- æœç´¢å¼•æ“è¯´æ€ä¹ˆè·å–ç½‘é¡µå†…å®¹çš„ï¼Ÿ
   
     ä½¿ç”¨`nodejs`ç®€å•æ¨¡æ‹Ÿæœç´¢å¼•æ“çš„å·¥ä½œ

    ```js
    // æ–°å»ºseo/index.jsæ–‡ä»¶ 
    // æœç´¢å¼•æ“è¯´æ€ä¹ˆè·å–ç½‘é¡µå†…å®¹çš„ï¼Ÿ
    const http = require('http')

    // æœç´¢å¼•æ“ - è·å–ç½‘é¡µå†…å®¹ã€åˆ†æã€æ”¶å½•
    // é€šè¿‡ç¨‹åºè·å–æŒ‡å®šçš„ç½‘é¡µå†…å®¹

    // http.get('http://localhost:8080/',res => {
    http.get('http://localhost:3000/',res => {
      let data = ''
      res.on('data', chunk => {
        data += chunk
      })
      res.on('end',() => {
        console.log(data);
      })
    })
    ```

- è·å–`localhost:3000`çš„æœåŠ¡ç«¯æ¸²æŸ“çš„ç½‘é¡µ

    ![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/30d13ac4a7054d06b9e4b31e7429e3b4~tplv-k3u1fbpfcp-watermark.image?)
- è·å–`localhost:8080`çš„å®¢æˆ·ç«¯æ¸²æŸ“çš„ç½‘é¡µ

    ![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/036fbf21f06148aebc5d7b0dffa010c6~tplv-k3u1fbpfcp-watermark.image?)
å®¢æˆ·ç«¯çš„å†…å®¹ï¼Œæ˜¯å¿…é¡»è¦è§£ææ‰§è¡Œ`chunk-vendors.js`å’Œ`app.js`æ‰èƒ½æ¸²æŸ“å‡ºç½‘é¡µçš„å†…å®¹

## ç°ä»£åŒ–çš„æœåŠ¡ç«¯æ¸²æŸ“ ï¼ˆåŒæ„æ¸²æŸ“ï¼‰

> åŒæ„æ¸²æŸ“ = åç«¯æ¸²æŸ“ + å‰ç«¯æ¸²æŸ“

*   åŸºäº`React`ã€`Vue`ç­‰æ¡†æ¶ï¼Œå®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“çš„ç»“åˆ

    *   åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºå®ç°æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆé¦–å±ç›´å‡ºï¼‰
    *   åœ¨å®¢æˆ·ç«¯å†æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºæ¥ç®¡é¡µé¢äº¤äº’

*   æ ¸å¿ƒè§£å†³`SEO`å’Œé¦–å±æ¸²æŸ“æ…¢çš„é—®é¢˜

*   æ‹¥æœ‰ä¼ ç»ŸæœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼Œä¹Ÿæœ‰å®¢æˆ·ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹

### ä¸€ã€ç°ä»£æœåŠ¡ç«¯æ¸²æŸ“çš„æµç¨‹
![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85685d7cbc5046c29b89611f7611eae8~tplv-k3u1fbpfcp-watermark.image?)


### äºŒã€é€šè¿‡`Nuxt`ä½“éªŒåŒæ„æ¸²æŸ“

*   `React`ç”Ÿæ€`Next.js`
*   `Vue`ç”Ÿæ€`Nuxt.js`

#### 1. æ–°å»ºNuxté¡¹ç›®
```shell
   # æ–°å»ºç›®å½•
   $ mkdir ssr
   $ cd ssr
   # ç”Ÿæˆpackage.jsonæ–‡ä»¶
   $ npm init -y
   # å®‰è£… nuxt2
   $ npm i nuxt@2  
   # ä¿®æ”¹package.jsonæ–‡ä»¶
```
 æ·»åŠ å¯åŠ¨è„šæœ¬å‘½ä»¤
```json
    ...
      "scripts": {
        "dev":"nuxt"
      }
    ...
```
#### 2. åˆ›å»º`pages`ç›®å½•ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º`index.vue`

   > `Nuxt.js` ä¼šä¾æ® `pages` ç›®å½•ä¸­çš„æ‰€æœ‰ `*.vue` æ–‡ä»¶ç”Ÿæˆåº”ç”¨çš„è·¯ç”±é…ç½®ã€‚

```html
    <template>
      <div class="home">
        <h2>{{ title }}</h2>
        <ul>
          <li v-for="post in posts" :key="post.id">{{ post.title }}</li>
        </ul>
      </div>
    </template>

    <script>
    import axios from 'axios'

    export default {
      name:'App',
      // Nuxtä¸­ç‰¹æ®Šæä¾›çš„ä¸€ä¸ªé’©å­å‡½æ•°ï¼Œä¸“é—¨ç”¨äºæœåŠ¡ç«¯æ¸²æŸ“è·å–æ•°æ®
      async asyncData({isDev, route, store, env, params, query, req, res, redirect, error}) {
        const { data } = await axios({
          method:'GET',
          url:'http://localhost:3000/data.json'
        })
        return data
      }
    }
    </script>
```
   æˆ‘ä»¬ç”¨åˆ°äº†`axios`ï¼Œè¿˜æ˜¯éœ€è¦å®‰è£…ä¸€ä¸‹`axios`ï¼Œ`npm i axios`ã€‚

#### 3. å¯åŠ¨æœåŠ¡ `npm run dev`

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27f9ba4b851f4b6ba14e61408e70cda9~tplv-k3u1fbpfcp-watermark.image?)
å¯ä»¥çœ‹åˆ°å†…å®¹æ˜¯ç›´æ¥æœ‰æœåŠ¡ç«¯æ¸²æŸ“çš„ï¼Œåœ¨è¿”å›çš„`HTML`æ–‡ä»¶é‡Œæœ‰è¿™äº›å…ƒç´ å†…å®¹ã€‚

#### 4. å®ƒè¿˜æ˜¯å•é¡µé¢åº”ç”¨å—ï¼Ÿ

   æ–°å»º`layouts`æ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢æ–°å»º`default.vue`æ–‡ä»¶
```html
    <template>
      <div>
        <ul>
          <li>
            <!-- ç±»ä¼¼äºrouter-link -->
            <nuxt-link to="/">Home</nuxt-link>
          </li>
          <li>
            <nuxt-link to="/about">About</nuxt-link>
          </li>
        </ul>
        
        <!-- å­é¡µé¢å‡ºå£ -->
        <nuxt/>
      </div>

    </template>

    <script>
    export default {}
    </script>
```
åœ¨`pages`æ–‡ä»¶å¤¹é‡Œï¼Œæ–°å»ºä¸€ä¸ª`about.vue`æ–‡ä»¶
```html
<template>
      <div>
        <h1>About</h1>
      </div>
    </template>

    <script>
    export default {}
    </script>
```
é‡å¯é¡¹ç›®ï¼Œæ­¤æ—¶æˆ‘ä»¬é€šè¿‡`Home`å’Œ`About`åˆ‡æ¢ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°é¡µé¢æ²¡æœ‰åˆ·æ–°ï¼Œæ‰€ä»¥å®ƒä¾æ—§æ˜¯å•é¡µé¢åº”ç”¨ç¨‹åºã€‚

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb52125325c041d3b5c1cdd30f4f4ec3~tplv-k3u1fbpfcp-watermark.image?)

### ä¸‰ã€åŒæ„æ¸²æŸ“çš„é—®é¢˜

*   å¼€å‘æ¡ä»¶æ‰€é™

    *   æµè§ˆå™¨ç‰¹å®šçš„ä»£ç åªèƒ½åœ¨æŸäº›ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸­ä½¿ç”¨
    *   ä¸€äº›å¤–éƒ¨æ‰©å±•åº“å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†æ‰èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ä¸­è¿è¡Œ
    *   ä¸èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“æœŸé—´æ“ä½œ`DOM`

*   æ¶‰åŠæ„å»ºè®¾ç½®å’Œéƒ¨ç½²çš„æ›´å¤šè¦æ±‚

    *   åªèƒ½éƒ¨ç½²åœ¨`Node.js Server`

*   æ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½

æ‰€ä»¥æ˜¯å¦çœŸçš„éœ€è¦æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè¦å–å†³äºâ€œé¦–å±æ¸²æŸ“é€Ÿåº¦æ˜¯å¦å¯¹æˆ‘ä»¬çš„é¡¹ç›®å¾ˆé‡è¦â€ï¼Œæˆ–è€…æ˜¯â€œæœ‰SEOçš„éœ€æ±‚â€ã€‚
